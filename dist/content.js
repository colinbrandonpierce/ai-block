(()=>{new MutationObserver((r=>{r.forEach((r=>{r.addedNodes.forEach((r=>{"IMG"===r.nodeName&&e(r)}))}))})).observe(document.body,{childList:!0,subtree:!0}),document.querySelectorAll("img").forEach(e);const r=new Set;async function e(e){if(!e.classList.contains("c2pa-processed")&&!e.src.startsWith("data:")&&e.src.startsWith("http")&&!r.has(e.src))try{e.classList.add("c2pa-processed"),r.add(e.src),chrome.runtime.sendMessage({type:"checkC2PA",imageUrl:e.src},(r=>{chrome.runtime.lastError?console.error("Error sending message:",chrome.runtime.lastError):r&&r.hasC2PA&&(e.classList.add("c2pa-blurred"),console.log("Image blurred:",e.src))}))}catch(r){console.error("Error processing image:",r)}}})();